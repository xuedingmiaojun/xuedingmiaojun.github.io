(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{379:function(v,_,t){"use strict";t.r(_);var n=t(2),r=Object(n.a)({},function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("p",[v._v("记下 DB 存取与文件存取的差异"),t("br")]),v._v(" "),t("p",[v._v("本文来源于之前做的一个小程序"),t("router-link",{attrs:{to:"/blog/science_lover.html"}},[v._v("科技爱好者周刊")]),v._v("在文章数据存储上的技术选型思考。"),t("br"),v._v("\n当时想着后期把文章 markdown 文件内容迁移到云数据库通过云函数查询出来显示。后来想想为什么非要这么做呢，数据库存取就一定好吗？？")],1),v._v(" "),t("p",[t("strong",[v._v("存储数据方式")]),t("br"),v._v("\n数据库的要比单纯的文件存储复杂很多。"),t("br"),v._v("\n以 Oracle 为例："),t("br"),v._v("\n从数据库的内存结构上来看，一个运行的数据库实例包含 SGA 区+PGA 区。")]),v._v(" "),t("ul",[t("li",[v._v("SGA区由数据缓冲区、共享池、重做日志缓冲区、大型池、JAVA池构成")]),v._v(" "),t("li",[v._v("PGA区由排序区、私有SQL区以及堆栈构成")])]),v._v(" "),t("p",[v._v("如果我们只是insert一条语句，单纯比较速度，自然是写入文件快，这只是一个简单的IO操作。此时写入数据库的话，首先需要建立连接，这个需要时间，其次要先在内存中SGA进行分析，解析SQL语句，再加上一些必要的操作，最后写入到数据库文件中，这个数据库文件本质上也是一个文件。"),t("br"),v._v("\n但是数据库的SGA缓存优化，能够大大减少搜索时间。而且文本文件只是一个简单的存储，没有检索功能。")]),v._v(" "),t("p",[v._v("所以")]),v._v(" "),t("ul",[t("li",[v._v("如果是简单的配置参数或特别小的数据，可以考虑存储在文件中，读写速度快。")]),v._v(" "),t("li",[v._v("如果大批量的数据，肯定是存在数据库中比较好了，数据库会把很多数据放内存里，不会每次都读盘。")])]),v._v(" "),t("p",[v._v("这样的话，因为在上述场景中小程序读取的 markdown 文件不算是大文件所以直接采用文件存储也就未尝不可了。")])])},[],!1,null,null,null);_.default=r.exports}}]);