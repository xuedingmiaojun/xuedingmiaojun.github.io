(window.webpackJsonp=window.webpackJsonp||[]).push([[324],{610:function(t,a,n){"use strict";n.r(a);var s=n(2),e=Object(s.a)({},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("介绍如何为小程序快速接入评论系统"),n("br")]),t._v(" "),n("p",[t._v("WxComment是一个微信小程序的评论插件，结合BaaS提供商LeanCloud，无需其他另外的个人或者云服务器，可以免费使用。")]),t._v(" "),n("p",[t._v("这里以科技爱好者周刊为例，介绍下如何使用WxComment插件为小程序添加评论功能。")]),t._v(" "),n("h3",{attrs:{id:"账号准备"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#账号准备","aria-hidden":"true"}},[t._v("#")]),t._v(" 账号准备")]),t._v(" "),n("h4",{attrs:{id:"leancloud"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#leancloud","aria-hidden":"true"}},[t._v("#")]),t._v(" LeanCloud")]),t._v(" "),n("p",[t._v("1.注册LeanCloud账号，创建LeanCloud应用；"),n("br"),t._v("\n2.前往 LeanCloud 控制台 > 组件 > 社交，保存「微信小程序」的 AppID 与 AppSecret"),n("br"),t._v("\n3.前往 LeanCloud 控制台 > 存储 > 结构化数据，点击『创建 Class』新建名为Admin、WxComment、Count的类。"),n("br"),t._v("\n4.前往 LeanCloud 控制台 > 设置 > 应用 Keys，记录 应用的 AppID 和 AppKey 备用。")]),t._v(" "),n("h4",{attrs:{id:"微信小程序"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#微信小程序","aria-hidden":"true"}},[t._v("#")]),t._v(" 微信小程序")]),t._v(" "),n("p",[t._v("登录微信小程序后台，进入 开发 > 开发管理 > 开发设置 > 服务器域名，添加如下域名：")]),t._v(" "),n("ul",[n("li",[t._v("https://nwfwwkyp.api.lncld.net;")]),t._v(" "),n("li",[t._v("https://nwfwwkyp.lc-cn-n1-shared.com;")])]),t._v(" "),n("h3",{attrs:{id:"代码修改"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代码修改","aria-hidden":"true"}},[t._v("#")]),t._v(" 代码修改")]),t._v(" "),n("p",[t._v("1.克隆项目WxComment并将其放入小程序目录："),n("br"),t._v(" "),n("code",[t._v("git clone https://github.com/yicm/WxComment.git")]),n("br"),t._v("\n这里的示例小程序是使用mpvue框架开发的，所以选择存放在根目录下的static目录"),n("br"),t._v("\n2.修改"),n("code",[t._v("static/WxComment/component/WxComment/WxComment.js")]),t._v("中的 LeanCloud 应用的 ID 和 Key。改成自己的。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("AV")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  appId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LeanCloud 应用 AppID'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  appKey"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LeanCloud 应用 AppKey'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("3.小程序详情页引入WxComment组件"),n("br"),t._v("\n页面 wxml：")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Wxcomment")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("tipOne")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Markdown "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("tipTwo")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("will be supported"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("submitBtnText")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("回复"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":articleID")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("contentLen")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("wxcomment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("页面 json配置：")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[t._v("\n"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"usingComponents"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ...\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"wxcomment"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/static/WxComment/component/WxComment/WxComment"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("属性说明：")]),t._v(" "),n("ul",[n("li",[t._v("tipOne: 颜色显示tip区域文字内容")]),t._v(" "),n("li",[t._v("tipTwo: 无颜色显示tip区域文字内容")]),t._v(" "),n("li",[t._v("submitBtnText：提交按钮文字内容")]),t._v(" "),n("li",[t._v("articleID：文章与WxComment绑定的唯一ID")]),t._v(" "),n("li",[t._v("contentLen：评论内容至少为多长限制")])]),t._v(" "),n("h3",{attrs:{id:"演示效果"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#演示效果","aria-hidden":"true"}},[t._v("#")]),t._v(" 演示效果")]),t._v(" "),n("p",[n("a",{attrs:{"data-fancybox":"",title:"小程序评论组件",href:"http://cdn.xuedingmiao.com/mp-comment.png"}},[n("img",{staticStyle:{width:"40%",display:"block"},attrs:{src:"http://cdn.xuedingmiao.com/mp-comment.png"}})]),n("br"),t._v("\n扫码体验："),n("br"),t._v(" "),n("a",{attrs:{"data-fancybox":"",title:"小程序评论组件",href:"http://tiaocaoer.com:3001/xcx_add_comment.md.jpg"}},[n("img",{staticStyle:{width:"20%",display:"block"},attrs:{src:"http://tiaocaoer.com:3001/xcx_add_comment.md.jpg"}})])]),t._v(" "),n("h3",{attrs:{id:"参考资料"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://leancloud.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://leancloud.cn/"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/yicm/WxComment",target:"_blank",rel:"noopener noreferrer"}},[t._v("WxComment"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/xuedingmiaojun/weekly-mp",target:"_blank",rel:"noopener noreferrer"}},[t._v("科技爱好者周刊小程序"),n("OutboundLink")],1)])])])},[],!1,null,null,null);a.default=e.exports}}]);