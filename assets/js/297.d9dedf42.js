(window.webpackJsonp=window.webpackJsonp||[]).push([[297],{585:function(t,a,s){"use strict";s.r(a);var n=s(2),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("总结下还原样式的几个方法"),s("br")]),t._v(" "),s("p",[t._v("在样式缺失这个问题上已经困扰了好一段时间了，博主在尝试N次之后总结了一些提取方法。"),s("br"),t._v("\n下面就按可操作性由繁到简介绍这几种方法。")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#_1-纯天然手工提取👍🏻"}},[t._v("1.纯天然手工提取👍🏻")])]),s("li",[s("a",{attrs:{href:"#_2-半手动提取"}},[t._v("2.半手动提取")])]),s("li",[s("a",{attrs:{href:"#_3-自动提取"}},[t._v("3.自动提取")])])])]),s("p"),t._v(" "),s("p",[t._v("提取的样式出处："),s("br"),t._v("\n通过上文"),s("router-link",{attrs:{to:"/blog/wxapkg_struct.html"}},[t._v("聊一聊微信小程序包内容")]),t._v("，大家应该知道了，所有的页面样式都是统一打包到如下几个文件里的。提取也是从这些文件里面去查找。"),s("br"),t._v("\n执行命令 "),s("code",[t._v("node wuWxapkg.js -o xxx.wxapkg")]),t._v(" 之后去找如下文件：")],1),t._v(" "),s("ul",[s("li",[t._v("page-frame.html")]),t._v(" "),s("li",[t._v("app-wxss.js")])]),t._v(" "),s("h3",{attrs:{id:"_1-纯天然手工提取👍🏻"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-纯天然手工提取👍🏻","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.纯天然手工提取👍🏻")]),t._v(" "),s("p",[t._v("就像名字所说，直接打开源文件，搜索样式缺失文件名，然后手工提取wxss样式⬇️"),s("br"),t._v(" "),s("a",{attrs:{"data-fancybox":"",title:"wxss样式",href:"http://cdn.xuedingmiao.com/wxss-get-1.png"}},[s("img",{staticStyle:{width:"90%",display:"block"},attrs:{src:"http://cdn.xuedingmiao.com/wxss-get-1.png"}})]),t._v('，博主表示："同学你很 brave~ "')]),t._v(" "),s("h3",{attrs:{id:"_2-半手动提取"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-半手动提取","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.半手动提取")]),t._v(" "),s("p",[t._v("这里具体还要分两种情况，取决于源文件")]),t._v(" "),s("h4",{attrs:{id:"_1-源文件为-page-frame-html-的情况"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-源文件为-page-frame-html-的情况","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.源文件为 "),s("code",[t._v("page-frame.html")]),t._v(" 的情况")]),t._v(" "),s("p",[t._v("①使用浏览器(最好是谷歌)打开 page-frame.html"),s("br"),t._v("\n②打开开发者工具(右键选择审查元素或者按F12或者从设置打开)"),s("br"),t._v("\n③在控制台输入类似下面的代码，这里以某个包的 wxParse.wxss 文件为例")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCssToHead")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__COMMON_STYLESHEETS__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./wxParse/wxParse.wxss"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("deviceWidth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("375")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("按回车之后执行结果⬇️"),s("br"),t._v(" "),s("a",{attrs:{"data-fancybox":"",title:"wxss样式",href:"http://cdn.xuedingmiao.com/wxss-get-2.png"}},[s("img",{staticStyle:{width:"90%",display:"block"},attrs:{src:"http://cdn.xuedingmiao.com/wxss-get-2.png"}})]),s("br"),t._v("\n这样你要的样式就显示在网页上了，复制出来即可。")]),t._v(" "),s("h4",{attrs:{id:"_2-源文件为-app-wxss-js-的情况"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-源文件为-app-wxss-js-的情况","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.源文件为 "),s("code",[t._v("app-wxss.js")]),t._v(" 的情况")]),t._v(" "),s("p",[t._v("啥玩意儿？？怎么是个JS..."),s("br"),t._v("\n这里观察一下文件内容，可以发现："),s("br"),t._v("\n整个文件的大部分内容都与 page-frame.html 类似，只是缺少头尾的 html 标签"),s("br"),t._v("\n所以就需要一点特殊操作了"),s("br"),t._v("\n①复制一份 app-wxss.js 文件改为 app-wxss.html 或者其它什么名字(不重要)"),s("br"),t._v("\n②在app-wxss.html内补齐头尾的 html 标签："),s("br"),t._v("\n头")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token doctype"}},[t._v("<!DOCTYPE html>")]),t._v(" \t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("zh-CN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \t\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \t\t\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("charset")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UTF-8"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v(" \t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v(" \t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Content-Security-Policy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("script-src 'self' 'unsafe-inline'"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("icon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("data:image/ico;base64,aWNv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \t\t\tvar __mainPageFrameReady__ = window.__mainPageFrameReady__ || function(){};\n")])])]),s("p",[t._v("尾")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \t \t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \t \t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("③接下来我们按照2.1的①~③的操作来就可以了。")]),t._v(" "),s("p",[t._v("视频演示："),s("br"),t._v(" "),s("iframe",{attrs:{src:"//player.bilibili.com/player.html?aid=754805701&bvid=BV1uk4y1C7QK&cid=241712341&page=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true",width:"100%",height:"400px"}})]),t._v(" "),s("h3",{attrs:{id:"_3-自动提取"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-自动提取","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.自动提取")]),t._v(" "),s("p",[t._v("上面说了这些虽然也能解决问题，但是对于新手来说很不友好，操作上也是比较麻烦的，当然不如用工具自动提取来的方便快捷。")]),t._v(" "),s("p",[s("strong",[t._v("最理想的就是在线解包")]),s("br"),t._v("\n这个应该是最佳方案了，打开网址就可以使用。Windows 平台的同学也不用管文件夹名的特殊字符问题了。")])])},[],!1,null,null,null);a.default=e.exports}}]);