(window.webpackJsonp=window.webpackJsonp||[]).push([[263],{551:function(t,a,s){"use strict";s.r(a);var e=s(2),r=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("说说移动端浏览器中的视口"),s("br")]),t._v(" "),s("p",[t._v("视口(Viewport)是移动Web开发中一个非常重要的概念，最早是由苹果公司在推出iPhone手机时发明的，其目的是为了让iPhone的小屏幕尽可能完整显示整个网页。通过设置视口，不管网页原始的分辨率尺寸有多大，都能将其缩小显示在手机浏览器上，这样保证网页在手机上看起来更像在桌面浏览器中的样子。")]),t._v(" "),s("h3",{attrs:{id:"基础概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础概念","aria-hidden":"true"}},[t._v("#")]),t._v(" 基础概念")]),t._v(" "),s("p",[t._v("像素是计算机屏幕中显示特定颜色的最小区域。屏幕中的像素越多，同一范围内能看到的内容就越多。或者说，当设备尺寸相同时，像素越密集，画面就越精细。")]),t._v(" "),s("h4",{attrs:{id:"物理像素（设备像素，device-pixels）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#物理像素（设备像素，device-pixels）","aria-hidden":"true"}},[t._v("#")]),t._v(" 物理像素（设备像素，device pixels）")]),t._v(" "),s("p",[t._v("指的是设备屏幕的物理像素，任何设备的物理像素数量都是固定的。")]),t._v(" "),s("h4",{attrs:{id:"css-像素（css-pixels）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-像素（css-pixels）","aria-hidden":"true"}},[t._v("#")]),t._v(" CSS 像素（CSS pixels）")]),t._v(" "),s("p",[t._v("是 CSS 和 JS 中使用的一个抽象概念。它和物理像素之间的比例取决于屏幕的特性（是否为高密度）以及用户进行的缩放，由浏览器自行换算。")]),t._v(" "),s("h3",{attrs:{id:"布局视口-layout-viewport"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#布局视口-layout-viewport","aria-hidden":"true"}},[t._v("#")]),t._v(" 布局视口(layout viewport)")]),t._v(" "),s("p",[t._v("指网页的宽度，一般移动端浏览器都默认设置了布局视口的宽度。根据设备的不同，布局视口的默认宽度有可能是768px、980px或1024px等，这个宽度并不适合在手机屏幕中展示。移动端浏览器之所以采用这样的默认设置，是为了解决早期的PC端页面在手机上显示的问题。iOS, Android 基本都将这个视口分辨率设置为 980px，所以 PC 上的网页基本能在手机上呈现，只不过元素看上去很小，一般默认可以通过手动缩放网页。"),s("br"),t._v(" "),s("a",{attrs:{"data-fancybox":"",title:"布局视口",href:"http://cdn.xuedingmiao.com/layout-viewport.png"}},[s("img",{staticStyle:{width:"40%"},attrs:{src:"http://cdn.xuedingmiao.com/layout-viewport.png"}})])]),t._v(" "),s("ul",[s("li",[t._v("获取方式"),s("br"),t._v(" "),s("code",[t._v("document.documentElement.clientWidth / Height")])]),t._v(" "),s("li",[t._v("显式设置布局视口")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=1000"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("布局视口使视口与移动端浏览器屏幕宽度完全独立开。CSS 布局将会根据它来进行计算，并被它约束。")]),t._v(" "),s("h3",{attrs:{id:"视觉视口-visual-viewport"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#视觉视口-visual-viewport","aria-hidden":"true"}},[t._v("#")]),t._v(" 视觉视口(visual viewport)")]),t._v(" "),s("p",[t._v("视觉视口是指用户正在看到的网站的区域，这个区域的宽度等同于移动设备的浏览器窗口的宽度，用户可以通过缩放操作视觉视口，同时不会影响布局视口。"),s("br"),t._v(" "),s("a",{attrs:{"data-fancybox":"",title:"视觉视口",href:"http://cdn.xuedingmiao.com/visual-viewport.png"}},[s("img",{staticStyle:{width:"40%"},attrs:{src:"http://cdn.xuedingmiao.com/visual-viewport.png"}})])]),t._v(" "),s("ul",[s("li",[t._v("缩放比例关系：当前缩放值 = 理想视口宽度  / 视觉视口宽度")])]),t._v(" "),s("blockquote",[s("p",[t._v("用户放大时，视觉视口将会变小，CSS 像素将跨越更多的物理像素。")])]),t._v(" "),s("h3",{attrs:{id:"理想视口-ideal-viewport"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#理想视口-ideal-viewport","aria-hidden":"true"}},[t._v("#")]),t._v(" 理想视口(ideal viewport)")]),t._v(" "),s("p",[t._v("布局视口的默认宽度并不是一个理想的宽度，于是 Apple 和其他浏览器厂商引入了理想视口的概念，它对设备而言是最理想的布局视口尺寸。显示在理想视口中的网站具有最理想的宽度，用户无需进行缩放。")]),t._v(" "),s("p",[t._v("理想视口的值其实就是屏幕分辨率的值，它对应的像素叫做设备逻辑像素（device independent pixel, dip）。dip 和设备的物理像素无关，一个 dip 在任意像素密度的设备屏幕上都占据相同的空间。如果用户没有进行缩放，那么一个 CSS 像素就等于一个 dip。")]),t._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"理想视口",href:"http://cdn.xuedingmiao.com/ideal-viewport.png"}},[s("img",{staticStyle:{width:"40%"},attrs:{src:"http://cdn.xuedingmiao.com/ideal-viewport.png"}})])]),t._v(" "),s("p",[t._v("布局视口与理想视口的宽度一致：")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h3",{attrs:{id:"常用的针对移动网页优化过的页面的-viewport-meta-标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用的针对移动网页优化过的页面的-viewport-meta-标签","aria-hidden":"true"}},[t._v("#")]),t._v(" 常用的针对移动网页优化过的页面的 viewport meta 标签")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("”viewport”")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width, initial-scale=1, maximum-scale=1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h4",{attrs:{id:"属性说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#属性说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 属性说明")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("属性名")]),t._v(" "),s("th",[t._v("取值")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("width")]),t._v(" "),s("td",[t._v("正整数或device-width")]),t._v(" "),s("td",[t._v("定义视口的宽度，单位为像素")])]),t._v(" "),s("tr",[s("td",[t._v("height")]),t._v(" "),s("td",[t._v("正整数或device-height")]),t._v(" "),s("td",[t._v("定义视口的高度，单位为像素，一般不用")])]),t._v(" "),s("tr",[s("td",[t._v("initial-scale")]),t._v(" "),s("td",[t._v("[0.0-10.0]")]),t._v(" "),s("td",[t._v("定义初始缩放值，即当页面第一次 load 的时候缩放比例")])]),t._v(" "),s("tr",[s("td",[t._v("minimum-scale")]),t._v(" "),s("td",[t._v("[0.0-10.0]")]),t._v(" "),s("td",[t._v("允许用户缩放到的最大比例，它必须小于或等于maximum-scale设置")])]),t._v(" "),s("tr",[s("td",[t._v("maximum-scale")]),t._v(" "),s("td",[t._v("[0.0-10.0]")]),t._v(" "),s("td",[t._v("允许用户缩放到的最小比例，它必须大于或等于minimum-scale设置")])]),t._v(" "),s("tr",[s("td",[t._v("user-scalable")]),t._v(" "),s("td",[t._v("yes / no")]),t._v(" "),s("td",[t._v("定义是否允许用户手动缩放页面，默认值 yes")])])])]),t._v(" "),s("p",[s("strong",[t._v("注意")])]),t._v(" "),s("ul",[s("li",[t._v("viewport 标签仅对移动端浏览器有效，对 PC 端浏览器无效")]),t._v(" "),s("li",[t._v("缩放比例为 100% 时，dip 宽度 = CSS 像素宽度 = 理想视口的宽度 = 布局视口的宽度")]),t._v(" "),s("li",[t._v("单独设置 initial-scale 或 width 都会有兼容性问题，所以设置布局视口为理想视口的最佳方法是同时设置这两个属性")]),t._v(" "),s("li",[t._v("即使设置 user-scalable = no，也可以在 Android Chrome 浏览器中强制启用手动缩放")]),t._v(" "),s("li",[t._v("iOS的Safari浏览器，从10.0版本开始将不在支持user-scalable=no，所以即使设置了user-scalable=no，用户依然可以对页面进行手势操作来缩放")])])])},[],!1,null,null,null);a.default=r.exports}}]);