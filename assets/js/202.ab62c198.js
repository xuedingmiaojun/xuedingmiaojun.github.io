(window.webpackJsonp=window.webpackJsonp||[]).push([[202],{491:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("记一下C:\\Windows\\System32\\Wbem\\wmic.exe不定时弹窗的问题"),a("br")]),t._v(" "),a("p",[t._v("Windows系统总是弹出这个程序窗口，so boring.."),a("br"),t._v(" "),a("a",{attrs:{"data-fancybox":"",title:"wmic.exe",href:"/images/wmic.png"}},[a("img",{staticStyle:{width:"90%",display:"block"},attrs:{src:"/images/wmic.png"}})])]),t._v(" "),a("p",[t._v("本地node版本"),a("br"),t._v(" "),a("a",{attrs:{"data-fancybox":"",title:"node",href:"/images/win_node_v.png"}},[a("img",{staticStyle:{width:"90%",display:"block"},attrs:{src:"/images/win_node_v.png"}})])]),t._v(" "),a("h3",{attrs:{id:"解决办法："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决办法：","aria-hidden":"true"}},[t._v("#")]),t._v(" 解决办法：")]),t._v(" "),a("p",[t._v("执行环境更新")]),t._v(" "),a("ul",[a("li",[t._v("更新 NodeJS 版本 > 8.8.0\n"),a("ul",[a("li",[t._v("可以选择从官网下载版本安装，安装前如果有项目在运行需要先执行pm2 kill把进程停掉，不然会影响安装")])])]),t._v(" "),a("li",[t._v("更新 pm2 到最新版本")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install -g pm2@latest\n")])])]),a("ul",[a("li",[t._v("更新内存中的 pm2")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("pm2 update\n")])])]),a("p",[t._v("更新后版本示例"),a("br"),t._v(" "),a("a",{attrs:{"data-fancybox":"",title:"node",href:"/images/win_node_cur_v.png"}},[a("img",{staticStyle:{width:"90%",display:"block"},attrs:{src:"/images/win_node_cur_v.png"}})])]),t._v(" "),a("p",[t._v("代码修改"),a("br"),t._v("\n涉及child_process的操作要传入选项 {windowsHide: true}")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" spawn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" execFile "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'child_process'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("spawn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cmd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" windowsHide "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])},[],!1,null,null,null);s.default=e.exports}}]);