(window.webpackJsonp=window.webpackJsonp||[]).push([[326],{614:function(t,v,_){"use strict";_.r(v);var r=_(2),e=Object(r.a)({},function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("p",[t._v("之前公司技术总监说小程序就是个浏览器，有其它同事也有说过小程序类似浏览器这种观点。通过这篇文章来探讨一下这种说法。"),_("br")]),t._v(" "),_("h3",{attrs:{id:"一般浏览器的结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#一般浏览器的结构","aria-hidden":"true"}},[t._v("#")]),t._v(" 一般浏览器的结构")]),t._v(" "),_("p",[t._v("先看一张图:"),_("br"),t._v(" "),_("a",{attrs:{"data-fancybox":"",title:"浏览器结构",href:"/images/browser_architecture.png"}},[_("img",{staticStyle:{width:"90%",display:"block"},attrs:{src:"/images/browser_architecture.png"}})])]),t._v(" "),_("ul",[_("li",[t._v("用户界面（User Interface）\n"),_("ul",[_("li",[t._v("工具栏、地址栏、前进/后退按钮、书签菜单、可视化页面加载进度、智能下载处理、首选项、打印")])])]),t._v(" "),_("li",[t._v("浏览器引擎（Browser Engine）\n"),_("ul",[_("li",[t._v("为渲染引擎提供高级接口")]),t._v(" "),_("li",[t._v("加载URI,支持前进/后退/重新加载")]),t._v(" "),_("li",[t._v("提供当前页面加载进度、JavaScript alert挂钩")]),t._v(" "),_("li",[t._v("允许查询/修改渲染引擎设置")])])]),t._v(" "),_("li",[t._v("渲染引擎（Rendering Engine）\n"),_("ul",[_("li",[t._v("生成URI可视化表示")]),t._v(" "),_("li",[t._v("解析、显示HTML和XML文档")]),t._v(" "),_("li",[t._v("计算页面布局")])])]),t._v(" "),_("li",[t._v("网络（Networking）\n"),_("ul",[_("li",[t._v("实现HTTP和FTP等文件传输协议")]),t._v(" "),_("li",[t._v("在不同的字符集之间进行转换"),_("br"),t._v("\n-解析MIME媒体类型")])])]),t._v(" "),_("li",[t._v("JavaScript解释器（JavaScript Interpreter）\n"),_("ul",[_("li",[t._v("解释并执行js")])])]),t._v(" "),_("li",[t._v("XML解析器（XML Parser）\n"),_("ul",[_("li",[t._v("将XML文档解析成文档对象模型")])])]),t._v(" "),_("li",[t._v("显示后端（Display Backend）\n"),_("ul",[_("li",[t._v("提供绘图和窗口原语(用户界面控件集合、字体集合)")])])]),t._v(" "),_("li",[t._v("数据持久层（Data Persistence）\n"),_("ul",[_("li",[t._v("将与浏览会话相关联的各种数据存储在硬盘上")])])])]),t._v(" "),_("h3",{attrs:{id:"小程序架构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#小程序架构","aria-hidden":"true"}},[t._v("#")]),t._v(" 小程序架构")]),t._v(" "),_("p",[t._v("宿主环境(运行环境)"),_("br"),t._v(" "),_("a",{attrs:{"data-fancybox":"",title:"运行环境",href:"/images/xcx_run.png"}},[_("img",{staticStyle:{width:"90%",display:"block"},attrs:{src:"/images/xcx_run.png"}})])]),t._v(" "),_("p",[t._v("三端的脚本执行环境以及用于渲染非原生组件的环境")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",{attrs:{width:"50px"}}),t._v(" "),_("th",[t._v("iOS")]),t._v(" "),_("th",[t._v("Android")]),t._v(" "),_("th",[t._v("开发者工具")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("逻辑层")]),t._v(" "),_("td",[t._v("JavaScriptCore")]),t._v(" "),_("td",[t._v("X5 JSCore")]),t._v(" "),_("td",[t._v("V8")])]),t._v(" "),_("tr",[_("td",[t._v("视图层")]),t._v(" "),_("td",[t._v("WKWebView")]),t._v(" "),_("td",[t._v("X5基于Mobile Chrome 57")]),t._v(" "),_("td",[t._v("XWeb基于Mobile Chrome 67")])])])]),t._v(" "),_("p",[t._v("从二者结构上来看，浏览器本身承载了很多功能，所以架构自然比小程序更加复杂。"),_("br"),t._v("\n小程序主要为了执行JS和渲染页面，所以可以删减很多不必要的东西，可以视为一个阉割版的低配浏览器。")])])},[],!1,null,null,null);v.default=e.exports}}]);